2025-04-24 17:22:19,076 - telegram.ext.ExtBot - DEBUG - Set Bot API URL: https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg
2025-04-24 17:22:19,076 - telegram.ext.ExtBot - DEBUG - Set Bot API File URL: https://api.telegram.org/file/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg
2025-04-24 17:22:19,078 - bot.scheduler - INFO - Настройка планировщика задач...
2025-04-24 17:22:19,078 - apscheduler.scheduler - INFO - Adding job tentatively -- it will be properly scheduled when the scheduler starts
2025-04-24 17:22:19,079 - bot.scheduler - INFO - Планировщик задач настроен и запущен.
2025-04-24 17:22:19,079 - asyncio - DEBUG - Using proactor: IocpProactor
2025-04-24 17:22:19,080 - telegram.ext - DEBUG - Network Retry Loop (Bootstrap Initialize Application): Starting
2025-04-24 17:22:19,080 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getMe` with parameters `{}`
2025-04-24 17:22:19,084 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:22:19,243 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EF15A90>
2025-04-24 17:22:19,243 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED9400> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:22:19,404 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EF056D0>
2025-04-24 17:22:19,404 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:19,404 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:19,404 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:19,405 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:19,405 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:19,561 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'262'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:19,561 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getMe "HTTP/1.1 200 OK"
2025-04-24 17:22:19,561 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:19,562 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:19,562 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:19,562 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:19,562 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getMe` finished with return value `{'id': 7437055328, 'is_bot': True, 'first_name': 'testmoygraficBOT', 'username': 'TestMoyGraficbot', 'can_join_groups': True, 'can_read_all_group_messages': False, 'supports_inline_queries': False, 'can_connect_to_business': False, 'has_main_web_app': False}`
2025-04-24 17:22:19,562 - telegram.ext.ExtBot - DEBUG - This Bot is already initialized.
2025-04-24 17:22:19,562 - telegram.ext.Updater - DEBUG - Updater started (polling)
2025-04-24 17:22:19,562 - telegram.ext - DEBUG - Network Retry Loop (Bootstrap delete Webhook): Starting
2025-04-24 17:22:19,562 - telegram.ext.Updater - DEBUG - Deleting webhook
2025-04-24 17:22:19,562 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `deleteWebhook` with parameters `{}`
2025-04-24 17:22:19,563 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:19,563 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:19,563 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:19,563 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:19,563 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:19,785 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:19 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'68'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:19,785 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/deleteWebhook "HTTP/1.1 200 OK"
2025-04-24 17:22:19,785 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:19,785 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:19,785 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:19,785 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:19,785 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `deleteWebhook` finished with return value `True`
2025-04-24 17:22:19,786 - telegram.ext.Updater - DEBUG - Bootstrap done
2025-04-24 17:22:19,786 - telegram.ext.Updater - DEBUG - Waiting for polling to start
2025-04-24 17:22:19,786 - telegram.ext.Updater - DEBUG - Polling updates from Telegram started
2025-04-24 17:22:19,786 - telegram.ext - DEBUG - Network Retry Loop (Polling Updates): Starting
2025-04-24 17:22:19,786 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 0}`
2025-04-24 17:22:19,786 - apscheduler.scheduler - INFO - Added job "check_absences" to job store "default"
2025-04-24 17:22:19,786 - apscheduler.scheduler - INFO - Scheduler started
2025-04-24 17:22:19,786 - telegram.ext.Application - DEBUG - JobQueue started
2025-04-24 17:22:19,787 - telegram.ext.Application - INFO - Application started
2025-04-24 17:22:19,787 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:22:19,787 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:22:19,787 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:23:19.078420+00:00 (in 59.291055 seconds)
2025-04-24 17:22:19,937 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EF60190>
2025-04-24 17:22:19,937 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED90A0> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:22:20,091 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EEBDE00>
2025-04-24 17:22:20,091 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,091 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:20,091 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:20,092 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:20,092 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,241 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'392'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:20,242 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:20,242 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:20,242 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:20,242 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:20,242 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:20,242 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489534, 'message': {'message_id': 427, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745478977, 'text': '/status', 'entities': [{'offset': 0, 'length': 7, 'type': 'bot_command'}]}}]`
2025-04-24 17:22:20,242 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489534]
2025-04-24 17:22:20,242 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 16, 17, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=7, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=427, supergroup_chat_created=False, text='/status'), update_id=829489534)
2025-04-24 17:22:20,243 - bot.handlers - DEBUG - Получена команда /status от пользователя 1635081908
2025-04-24 17:22:20,248 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:20,414 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,414 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489535}`
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,415 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:20,416 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:20,416 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:20,416 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:20,699 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1147'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:20,699 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:22:20,699 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:20,699 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:20,699 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:20,699 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:30,566 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:30 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:30,567 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:30,567 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:30,567 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:30,567 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:30,567 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:30,567 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:22:30,567 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:22:30,568 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489535}`
2025-04-24 17:22:30,568 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:30,568 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:30,568 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:30,569 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:30,569 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:34,967 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:34 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'391'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:34,967 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:34,967 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:34,967 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:34,967 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:34,968 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:34,968 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489535, 'message': {'message_id': 429, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745479354, 'text': '/start', 'entities': [{'offset': 0, 'length': 6, 'type': 'bot_command'}]}}]`
2025-04-24 17:22:34,968 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489535]
2025-04-24 17:22:34,968 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 22, 34, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=429, supergroup_chat_created=False, text='/start'), update_id=829489535)
2025-04-24 17:22:34,968 - bot.handlers - DEBUG - Получена команда /start от пользователя 1635081908
2025-04-24 17:22:34,979 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:34,983 - httpcore.connection - DEBUG - close.started
2025-04-24 17:22:34,983 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:22:34,984 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:22:34,984 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489536}`
2025-04-24 17:22:34,984 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:34,985 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:34,985 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:34,985 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:34,985 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:35,139 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F15E780>
2025-04-24 17:22:35,139 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED9400> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:22:35,296 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F1C9910>
2025-04-24 17:22:35,296 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:35,297 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:35,297 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:35,297 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:35,297 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:35,510 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:35 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3620'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:35,510 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:22:35,511 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:35,511 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:35,511 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:35,511 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:37,650 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:37 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3892'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:37,651 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:37,651 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:37,651 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:37,651 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:37,651 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:37,672 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489536]
2025-04-24 17:22:37,676 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:22:37,676 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623322347162021'}`
2025-04-24 17:22:37,681 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:37,681 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489537}`
2025-04-24 17:22:37,681 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:37,681 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:37,682 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:37,900 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:37 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:37,900 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:22:37,900 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:37,900 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:37,901 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:37,901 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:37,901 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:22:37,901 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=toggle_subscription
2025-04-24 17:22:37,904 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:37,907 - bot.settings - ERROR - Ошибка при обновлении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:37,908 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_application.py", line 1298, in process_update
    await coroutine
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\conversationhandler.py", line 842, in handle_update
    new_state: object = await handler.handle_update(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        update, application, handler_check_result, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\handlers.py", line 197, in callback_handler
    update_user_settings(user_id, subscribed=new_subscribed)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\settings.py", line 57, in update_user_settings
    if not conn.execute(query).fetchone():
           ~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:41,558 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3892'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:41,559 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:41,559 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:41,559 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:41,559 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:41,559 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:41,562 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489537]
2025-04-24 17:22:41,565 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:22:41,566 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623321499378403'}`
2025-04-24 17:22:41,566 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:41,566 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489538}`
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:41,567 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:41,727 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:41 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:41,728 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:22:41,728 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:41,728 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:41,728 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:41,728 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:41,728 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:22:41,728 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=toggle_subscription
2025-04-24 17:22:41,732 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:41,735 - bot.settings - ERROR - Ошибка при обновлении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:41,736 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_application.py", line 1298, in process_update
    await coroutine
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\conversationhandler.py", line 842, in handle_update
    new_state: object = await handler.handle_update(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        update, application, handler_check_result, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\handlers.py", line 197, in callback_handler
    update_user_settings(user_id, subscribed=new_subscribed)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\settings.py", line 57, in update_user_settings
    if not conn.execute(query).fetchone():
           ~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:50,293 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:50 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'391'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:50,293 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:50,293 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:50,294 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:50,294 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:50,294 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:50,294 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489538, 'message': {'message_id': 431, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745479370, 'text': '/start', 'entities': [{'offset': 0, 'length': 6, 'type': 'bot_command'}]}}]`
2025-04-24 17:22:50,294 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489538]
2025-04-24 17:22:50,294 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 22, 50, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=431, supergroup_chat_created=False, text='/start'), update_id=829489538)
2025-04-24 17:22:50,295 - bot.handlers - DEBUG - Получена команда /start от пользователя 1635081908
2025-04-24 17:22:50,302 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:50,306 - httpcore.connection - DEBUG - close.started
2025-04-24 17:22:50,306 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:22:50,307 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:22:50,307 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489539}`
2025-04-24 17:22:50,307 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:50,308 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:50,308 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:50,308 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:50,308 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:50,462 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F1D49E0>
2025-04-24 17:22:50,462 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED9400> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:22:50,618 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F1D4490>
2025-04-24 17:22:50,619 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:50,619 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:50,619 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:50,619 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:50,619 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:50,795 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:50 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3620'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:50,795 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:22:50,796 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:50,796 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:50,796 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:50,796 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:55,346 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:55 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3889'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:55,347 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:55,347 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,347 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:55,347 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:55,347 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:55,350 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489539]
2025-04-24 17:22:55,353 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:22:55,353 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623321887903783'}`
2025-04-24 17:22:55,353 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,354 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489540}`
2025-04-24 17:22:55,354 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:55,354 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,354 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:55,355 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,515 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:55 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:55,515 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:22:55,515 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,515 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:55,515 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:55,516 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:55,516 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:22:55,516 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=attendance_today
2025-04-24 17:22:55,519 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:55,529 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,529 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:55,529 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,530 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:55,530 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:55,779 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:55 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'644'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:55,780 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:22:55,780 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:55,780 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:55,780 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:55,780 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:57,585 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:57 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3891'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:57,585 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:22:57,585 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,586 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:57,586 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:57,586 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:57,588 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489540]
2025-04-24 17:22:57,591 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:22:57,591 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623325435200707'}`
2025-04-24 17:22:57,592 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,592 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489541}`
2025-04-24 17:22:57,593 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:57,593 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,593 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:57,593 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,593 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,594 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:57,594 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,594 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:57,594 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,758 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:57 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:57,759 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:22:57,759 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,759 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:57,759 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:57,759 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:22:57,759 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:22:57,759 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=attendance_10_days
2025-04-24 17:22:57,763 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:22:57,771 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,772 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:22:57,772 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,772 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:22:57,772 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:22:57,962 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:22:57 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'1462'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:22:57,963 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:22:57,963 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:22:57,963 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:22:57,963 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:22:57,963 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:01,538 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:01 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3892'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:01,538 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:01,538 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:01,538 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:01,538 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:01,538 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:01,541 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489541]
2025-04-24 17:23:01,545 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:23:01,546 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623321321191468'}`
2025-04-24 17:23:01,546 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:01,546 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489542}`
2025-04-24 17:23:01,547 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:01,547 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:01,547 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:01,547 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:01,548 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:01,548 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:01,548 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:01,548 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:01,548 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:01,708 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:01 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:01,708 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:23:01,709 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:01,709 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:01,709 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:01,709 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:01,709 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:23:01,709 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=toggle_subscription
2025-04-24 17:23:01,712 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:01,716 - bot.settings - ERROR - Ошибка при обновлении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:01,716 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_application.py", line 1298, in process_update
    await coroutine
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\conversationhandler.py", line 842, in handle_update
    new_state: object = await handler.handle_update(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        update, application, handler_check_result, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\handlers.py", line 197, in callback_handler
    update_user_settings(user_id, subscribed=new_subscribed)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\settings.py", line 57, in update_user_settings
    if not conn.execute(query).fetchone():
           ~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:05,758 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:05 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3902'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:05,759 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:05,759 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:05,759 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:05,759 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:05,759 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:05,764 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489542]
2025-04-24 17:23:05,767 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state None
2025-04-24 17:23:05,767 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `answerCallbackQuery` with parameters `{'callback_query_id': '7022623322768069051'}`
2025-04-24 17:23:05,768 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:05,768 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489543}`
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:05,769 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:05,770 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:05,770 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:05,770 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:06,017 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:06 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'25'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:06,018 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/answerCallbackQuery "HTTP/1.1 200 OK"
2025-04-24 17:23:06,018 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:06,018 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:06,018 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:06,018 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:06,019 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `answerCallbackQuery` finished with return value `True`
2025-04-24 17:23:06,019 - bot.handlers - DEBUG - Получен callback-запрос от пользователя 1635081908: callback_data=add_arrival_notification_time
2025-04-24 17:23:06,023 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:06,028 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:06,029 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:06,029 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:06,029 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:06,029 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:06,250 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:06 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'584'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:06,250 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:23:06,250 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:06,250 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:06,250 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:06,250 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:15,927 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:15 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:15,928 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:15,928 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:15,928 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:15,928 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:15,928 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:15,929 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:23:15,929 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:23:15,929 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489543}`
2025-04-24 17:23:15,929 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:15,930 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:15,930 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:15,930 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:15,930 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:19,080 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:23:19,080 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:24:19.078420+00:00 (in 59.997911 seconds)
2025-04-24 17:23:19,080 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:24:19 UTC)" (scheduled at 2025-04-24 07:23:19.078420+00:00)
2025-04-24 17:23:19,081 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:23
2025-04-24 17:23:19,089 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:23:19,835 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:23:19,837 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:24:19 UTC)" executed successfully
2025-04-24 17:23:20,023 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:20 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'332'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:20,023 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:20,023 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:20,023 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:20,024 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:20,024 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:20,024 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489543, 'message': {'message_id': 436, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745479400, 'text': '08:55'}}]`
2025-04-24 17:23:20,024 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489543]
2025-04-24 17:23:20,024 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 23, 20, tzinfo=datetime.timezone.utc), delete_chat_photo=False, from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=436, supergroup_chat_created=False, text='08:55'), update_id=829489543)
2025-04-24 17:23:20,024 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:23:20,028 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:20,032 - bot.settings - ERROR - Ошибка при обновлении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:20,032 - telegram.ext.Application - ERROR - No error handlers are registered, logging exception.
Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
psycopg2.errors.UndefinedColumn: column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^


The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_application.py", line 1298, in process_update
    await coroutine
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\conversationhandler.py", line 842, in handle_update
    new_state: object = await handler.handle_update(
                        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
        update, application, handler_check_result, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\telegram\ext\_handlers\basehandler.py", line 158, in handle_update
    return await self.callback(update, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\handlers.py", line 343, in add_arrival_notification_time
    update_user_settings(user_id, arrival_notification_times=arrival_notification_times)
    ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\MoyGrafik_bot_01\bot\settings.py", line 57, in update_user_settings
    if not conn.execute(query).fetchone():
           ~~~~~~~~~~~~^^^^^^^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1416, in execute
    return meth(
        self,
        distilled_parameters,
        execution_options or NO_OPTIONS,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\sql\elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        self, distilled_params, execution_options
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
        dialect,
    ...<8 lines>...
        cache_hit=cache_hit,
    )
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ~~~~~~~~~~~~~~~~~~~~~~~~~^
        dialect, context, statement, parameters
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
    ~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        e, str_statement, effective_parameters, cursor, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
    ~~~~~~~~~~~~~~~~~~~~~~~^
        cursor, str_statement, effective_parameters, context
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "C:\Users\shish.me\PycharmProjects\JupyterProject\.venv\Lib\site-packages\sqlalchemy\engine\default.py", line 942, in do_execute
    cursor.execute(statement, parameters)
    ~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
sqlalchemy.exc.ProgrammingError: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:23:20,036 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489544}`
2025-04-24 17:23:20,036 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:20,036 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:20,037 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:20,037 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:20,037 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:30,187 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:30 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:30,188 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:30,188 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:30,188 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:30,188 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:30,188 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:30,188 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:23:30,188 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:23:30,188 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489544}`
2025-04-24 17:23:30,189 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:30,189 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:30,189 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:30,189 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:30,189 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:40,342 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:40 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:40,342 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:40,342 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:40,342 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:40,342 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:40,342 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:40,342 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:23:40,343 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:23:40,343 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489544}`
2025-04-24 17:23:40,343 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:40,343 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:40,343 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:40,343 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:40,344 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:23:50,495 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:23:50 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:23:50,495 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:23:50,495 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:23:50,495 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:23:50,495 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:23:50,496 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:23:50,496 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:23:50,496 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:23:50,496 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489544}`
2025-04-24 17:23:50,496 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:23:50,497 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:23:50,497 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:23:50,497 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:23:50,497 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:00,656 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:00 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:00,656 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:00,657 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:00,657 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:00,657 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:00,657 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:00,657 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:24:00,657 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:24:00,658 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489544}`
2025-04-24 17:24:00,658 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:00,658 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:00,658 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:00,659 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:00,659 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:08,036 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:08 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3891'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:08,037 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:08,037 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:08,037 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:08,037 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:08,037 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:08,039 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489544]
2025-04-24 17:24:08,042 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:08,043 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489545}`
2025-04-24 17:24:08,043 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:08,043 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:08,043 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:08,044 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:08,044 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:10,164 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:10 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'391'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:10,164 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:10,165 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:10,165 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:10,165 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:10,165 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:10,165 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489545, 'message': {'message_id': 437, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745479450, 'text': '/start', 'entities': [{'offset': 0, 'length': 6, 'type': 'bot_command'}]}}]`
2025-04-24 17:24:10,165 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489545]
2025-04-24 17:24:10,165 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 24, 10, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=437, supergroup_chat_created=False, text='/start'), update_id=829489545)
2025-04-24 17:24:10,166 - bot.handlers - DEBUG - Получена команда /start от пользователя 1635081908
2025-04-24 17:24:10,174 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:24:10,178 - httpcore.connection - DEBUG - close.started
2025-04-24 17:24:10,178 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:24:10,179 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:24:10,179 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489546}`
2025-04-24 17:24:10,179 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:10,180 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:10,180 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:10,180 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:10,180 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:10,324 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EF20550>
2025-04-24 17:24:10,324 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED9400> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:24:10,479 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F1FA950>
2025-04-24 17:24:10,479 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:10,480 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:10,480 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:10,480 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:10,480 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:10,662 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:10 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3620'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:10,662 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:24:10,662 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:10,662 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:10,662 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:10,662 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:16,078 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:16 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3892'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:16,078 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:16,078 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:16,078 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:16,078 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:16,078 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:16,081 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489546]
2025-04-24 17:24:16,083 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:16,084 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489547}`
2025-04-24 17:24:16,084 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:16,085 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:16,085 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:16,085 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:16,085 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:19,080 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:24:19,081 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:25:19.078420+00:00 (in 59.997302 seconds)
2025-04-24 17:24:19,081 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:25:19 UTC)" (scheduled at 2025-04-24 07:24:19.078420+00:00)
2025-04-24 17:24:19,081 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:24
2025-04-24 17:24:19,086 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:24:19,705 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:24:19,707 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:25:19 UTC)" executed successfully
2025-04-24 17:24:23,743 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:23 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:23,744 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:23,744 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:23,744 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:23,744 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:23,744 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:23,746 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489547]
2025-04-24 17:24:23,749 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:23,749 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489548}`
2025-04-24 17:24:23,750 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:23,750 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:23,750 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:23,750 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:23,750 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:32,351 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3904'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:32,351 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:32,351 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:32,351 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:32,351 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:32,352 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:32,353 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489548]
2025-04-24 17:24:32,357 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:32,358 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489549}`
2025-04-24 17:24:32,358 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:32,358 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:32,358 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:32,358 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:32,359 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:34,808 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:34 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3902'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:34,808 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:34,808 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:34,808 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:34,808 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:34,808 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:34,811 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489549]
2025-04-24 17:24:34,814 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:34,815 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489550}`
2025-04-24 17:24:34,815 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:34,815 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:34,816 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:34,816 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:34,816 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:36,731 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:36 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3905'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:36,731 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:36,731 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:36,731 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:36,731 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:36,731 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:36,734 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489550]
2025-04-24 17:24:36,737 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:36,737 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489551}`
2025-04-24 17:24:36,738 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:36,738 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:36,738 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:36,738 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:36,738 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:37,370 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:37 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3907'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:37,370 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:37,370 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:37,370 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:37,371 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:37,371 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:37,373 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489551]
2025-04-24 17:24:37,377 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:37,377 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489552}`
2025-04-24 17:24:37,378 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:37,378 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:37,378 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:37,378 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:37,379 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:38,051 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:38 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3887'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:38,051 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:38,051 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:38,052 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:38,052 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:38,052 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:38,057 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489552]
2025-04-24 17:24:38,060 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:24:38,060 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:24:38,061 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:38,061 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:38,061 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:38,061 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:38,061 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:48,214 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:48 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:48,215 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:48,215 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:48,215 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:48,215 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:48,215 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:48,215 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:24:48,216 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:24:48,216 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:24:48,216 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:48,216 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:48,216 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:48,217 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:48,217 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:24:58,374 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:24:58 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:24:58,375 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:24:58,375 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:24:58,375 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:24:58,375 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:24:58,375 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:24:58,375 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:24:58,375 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:24:58,375 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:24:58,376 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:24:58,376 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:24:58,376 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:24:58,376 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:24:58,377 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:08,528 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:08 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:08,528 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:08,528 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:08,528 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:08,529 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:08,529 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:08,529 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:25:08,529 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:25:08,529 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:25:08,529 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:08,530 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:08,530 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:08,530 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:08,530 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:18,686 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:18 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:18,686 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:18,686 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:18,686 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:18,686 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:18,686 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:18,687 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:25:18,687 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:25:18,687 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:25:18,687 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:18,687 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:18,687 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:18,688 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:18,688 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:19,083 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:25:19,083 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:26:19.078420+00:00 (in 59.994470 seconds)
2025-04-24 17:25:19,084 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:26:19 UTC)" (scheduled at 2025-04-24 07:25:19.078420+00:00)
2025-04-24 17:25:19,084 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:25
2025-04-24 17:25:19,089 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:25:19,780 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:25:19,782 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:26:19 UTC)" executed successfully
2025-04-24 17:25:28,840 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:28 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:28,840 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:28,841 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:28,841 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:28,841 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:28,841 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:28,841 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:25:28,841 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:25:28,842 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:25:28,842 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:28,842 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:28,843 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:28,843 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:28,843 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:38,998 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:38 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:38,998 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:38,998 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:38,998 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:38,999 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:38,999 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:38,999 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:25:38,999 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:25:38,999 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489553}`
2025-04-24 17:25:38,999 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:39,000 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:39,000 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:39,000 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:39,000 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:42,658 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'391'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:42,658 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:42,658 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:42,658 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:42,658 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:42,658 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:42,658 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[{'update_id': 829489553, 'message': {'message_id': 439, 'from': {'id': 1635081908, 'is_bot': False, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'language_code': 'ru'}, 'chat': {'id': 1635081908, 'first_name': 'Mikhail', 'last_name': '.', 'username': 'Mvihach', 'type': 'private'}, 'date': 1745479542, 'text': '/start', 'entities': [{'offset': 0, 'length': 6, 'type': 'bot_command'}]}}]`
2025-04-24 17:25:42,659 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489553]
2025-04-24 17:25:42,659 - telegram.ext.Application - DEBUG - Processing update Update(message=Message(channel_chat_created=False, chat=Chat(first_name='Mikhail', id=1635081908, last_name='.', type=<ChatType.PRIVATE>, username='Mvihach'), date=datetime.datetime(2025, 4, 24, 7, 25, 42, tzinfo=datetime.timezone.utc), delete_chat_photo=False, entities=(MessageEntity(length=6, offset=0, type=<MessageEntityType.BOT_COMMAND>),), from_user=User(first_name='Mikhail', id=1635081908, is_bot=False, language_code='ru', last_name='.', username='Mvihach'), group_chat_created=False, message_id=439, supergroup_chat_created=False, text='/start'), update_id=829489553)
2025-04-24 17:25:42,659 - bot.handlers - DEBUG - Получена команда /start от пользователя 1635081908
2025-04-24 17:25:42,667 - bot.settings - ERROR - Ошибка при получении настроек пользователя 1635081908: (psycopg2.errors.UndefinedColumn) column user_settings.notification_times does not exist
LINE 1: ...tings.vacation_start, user_settings.vacation_end, user_setti...
                                                             ^

[SQL: SELECT user_settings.telegram_id, user_settings.employee_id, user_settings.subscribed, user_settings.vacation_start, user_settings.vacation_end, user_settings.notification_times 
FROM user_settings 
WHERE user_settings.telegram_id = %(telegram_id_1)s]
[parameters: {'telegram_id_1': 1635081908}]
(Background on this error at: https://sqlalche.me/e/20/f405)
2025-04-24 17:25:42,671 - httpcore.connection - DEBUG - close.started
2025-04-24 17:25:42,671 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:25:42,671 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:25:42,671 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489554}`
2025-04-24 17:25:42,673 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:42,673 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:42,673 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:42,673 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:42,673 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:42,856 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902EF194F0>
2025-04-24 17:25:42,856 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED9400> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:25:43,011 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F1DF020>
2025-04-24 17:25:43,011 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:43,011 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:43,011 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:43,011 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:43,011 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:43,201 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:43 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3620'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:43,201 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/sendMessage "HTTP/1.1 200 OK"
2025-04-24 17:25:43,201 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:43,201 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:43,201 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:43,201 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:44,601 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:44 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:44,601 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:44,602 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:44,602 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:44,602 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:44,602 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:44,605 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489554]
2025-04-24 17:25:44,607 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:25:44,607 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489555}`
2025-04-24 17:25:44,608 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:44,608 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:44,608 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:44,608 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:44,608 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:47,164 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:47 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:47,164 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:47,164 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:47,164 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:47,165 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:47,165 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:47,167 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489555]
2025-04-24 17:25:47,170 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:25:47,171 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489556}`
2025-04-24 17:25:47,171 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:47,171 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:47,172 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:47,172 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:47,172 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:49,984 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:49 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:49,984 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:49,984 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:49,984 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:49,984 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:49,984 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:49,989 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489556]
2025-04-24 17:25:49,991 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:25:49,992 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489557}`
2025-04-24 17:25:49,992 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:49,992 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:49,992 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:49,992 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:49,993 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:50,974 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:50 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:50,974 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:50,974 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:50,974 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:50,974 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:50,975 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:50,977 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489557]
2025-04-24 17:25:50,980 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:25:50,980 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489558}`
2025-04-24 17:25:50,981 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:50,981 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:50,981 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:50,981 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:50,981 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:25:51,696 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:25:51 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'3885'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:25:51,696 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:25:51,696 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:25:51,696 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:25:51,697 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:25:51,697 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:25:51,701 - telegram.ext.ExtBot - DEBUG - Getting updates: [829489558]
2025-04-24 17:25:51,703 - telegram.ext.ConversationHandler - DEBUG - Selecting conversation (1635081908, 1635081908) with state 2
2025-04-24 17:25:51,703 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:25:51,703 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:25:51,704 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:25:51,704 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:25:51,704 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:25:51,704 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:01,855 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:01 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:01,856 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:01,856 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:01,856 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:01,856 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:01,856 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:01,856 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:01,856 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:01,856 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:01,857 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:01,857 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:01,857 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:01,857 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:01,857 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:12,014 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:12 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:12,014 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:12,014 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:12,015 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:12,015 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:12,015 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:12,015 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:12,015 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:12,015 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:12,015 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:12,016 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:12,016 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:12,016 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:12,016 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:19,083 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:26:19,084 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:27:19.078420+00:00 (in 59.994340 seconds)
2025-04-24 17:26:19,084 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:27:19 UTC)" (scheduled at 2025-04-24 07:26:19.078420+00:00)
2025-04-24 17:26:19,084 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:26
2025-04-24 17:26:19,090 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:26:19,871 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:26:19,873 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:27:19 UTC)" executed successfully
2025-04-24 17:26:22,168 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:22 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:22,168 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:22,169 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:22,169 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:22,169 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:22,169 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:22,169 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:22,169 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:22,169 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:22,170 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:22,170 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:22,170 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:22,170 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:22,170 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:32,322 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:32 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:32,323 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:32,323 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:32,323 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:32,323 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:32,323 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:32,323 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:32,323 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:32,324 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:32,324 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:32,324 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:32,324 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:32,325 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:32,325 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:42,484 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:42 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:42,484 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:42,484 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:42,484 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:42,484 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:42,485 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:42,485 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:42,485 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:42,485 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:42,485 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:42,486 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:42,486 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:42,486 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:42,486 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:26:52,645 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:26:52 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:26:52,646 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:26:52,646 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:26:52,646 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:26:52,646 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:26:52,646 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:26:52,646 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:26:52,646 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:26:52,646 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:26:52,647 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:26:52,647 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:26:52,647 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:26:52,647 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:26:52,647 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:02,800 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:02 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:02,800 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:02,800 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:02,800 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:02,800 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:02,800 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:02,801 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:02,801 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:02,801 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:02,801 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:02,801 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:02,801 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:02,802 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:02,802 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:12,959 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:12 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:12,959 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:12,960 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:12,960 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:12,960 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:12,960 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:12,960 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:12,960 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:12,960 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:12,961 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:12,961 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:12,961 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:12,961 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:12,961 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:19,084 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:27:19,084 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:28:19.078420+00:00 (in 59.993787 seconds)
2025-04-24 17:27:19,084 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:28:19 UTC)" (scheduled at 2025-04-24 07:27:19.078420+00:00)
2025-04-24 17:27:19,084 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:27
2025-04-24 17:27:19,089 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:27:19,675 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:27:19,677 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:28:19 UTC)" executed successfully
2025-04-24 17:27:23,114 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:23 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:23,114 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:23,114 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:23,114 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:23,115 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:23,115 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:23,115 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:23,115 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:23,115 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:23,115 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:23,116 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:23,116 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:23,116 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:23,116 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:33,267 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:33 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:33,268 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:33,268 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:33,268 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:33,268 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:33,268 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:33,268 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:33,268 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:33,269 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:33,269 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:33,269 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:33,269 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:33,269 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:33,270 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:43,423 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:43 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:43,423 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:43,423 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:43,423 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:43,423 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:43,423 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:43,424 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:43,424 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:43,424 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:43,424 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:43,424 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:43,424 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:43,425 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:43,425 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:27:53,586 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:27:53 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:27:53,587 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:27:53,587 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:27:53,587 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:27:53,587 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:27:53,587 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:27:53,587 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:27:53,587 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:27:53,587 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:27:53,588 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:27:53,588 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:27:53,588 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:27:53,588 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:27:53,588 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:03,740 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:03 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:03,740 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:03,740 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:03,740 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:03,740 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:03,740 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:03,741 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:03,741 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:03,741 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:03,741 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:03,741 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:03,741 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:03,742 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:03,742 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:13,897 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:13 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:13,898 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:13,898 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:13,898 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:13,898 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:13,898 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:13,898 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:13,898 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:13,899 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:13,899 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:13,899 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:13,899 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:13,899 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:13,900 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:19,083 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:28:19,084 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:29:19.078420+00:00 (in 59.994424 seconds)
2025-04-24 17:28:19,084 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:29:19 UTC)" (scheduled at 2025-04-24 07:28:19.078420+00:00)
2025-04-24 17:28:19,084 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:28
2025-04-24 17:28:19,089 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:28:19,675 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:28:19,677 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:29:19 UTC)" executed successfully
2025-04-24 17:28:24,051 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:24 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:24,051 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:24,051 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:24,051 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:24,051 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:24,051 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:24,051 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:24,052 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:24,052 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:24,052 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:24,052 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:24,052 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:24,053 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:24,053 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:34,204 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:34 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:34,204 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:34,204 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:34,204 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:34,204 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:34,204 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:34,205 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:34,205 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:34,205 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:34,205 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:34,205 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:34,205 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:34,206 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:34,206 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:44,357 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:44 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:44,358 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:44,358 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:44,358 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:44,358 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:44,358 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:44,358 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:44,358 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:44,358 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:44,359 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:44,359 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:44,359 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:44,359 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:44,359 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:28:54,517 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:28:54 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:28:54,517 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:28:54,517 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:28:54,517 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:28:54,517 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:28:54,517 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:28:54,518 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:28:54,518 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:28:54,518 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:28:54,518 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:28:54,518 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:28:54,518 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:28:54,518 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:28:54,519 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:04,672 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:04 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:04,672 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:04,672 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:04,672 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:04,673 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:04,673 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:04,673 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:04,673 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:04,673 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:04,673 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:04,674 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:04,674 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:04,674 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:04,674 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:14,826 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:14 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:14,826 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:14,826 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:14,826 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:14,826 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:14,826 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:14,827 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:14,827 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:14,827 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:14,827 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:14,827 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:14,828 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:14,828 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:14,828 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:19,083 - apscheduler.scheduler - DEBUG - Looking for jobs to run
2025-04-24 17:29:19,083 - apscheduler.scheduler - DEBUG - Next wakeup is due at 2025-04-24 07:30:19.078420+00:00 (in 59.995062 seconds)
2025-04-24 17:29:19,083 - apscheduler.executors.default - INFO - Running job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:30:19 UTC)" (scheduled at 2025-04-24 07:29:19.078420+00:00)
2025-04-24 17:29:19,083 - bot.notifications - DEBUG - Запуск проверки отсутствия отметок и отпусков на 2025-04-24 17:29
2025-04-24 17:29:19,088 - bot.notifications - DEBUG - Найдено подписанных пользователей: 718
2025-04-24 17:29:19,647 - bot.notifications - INFO - Пользователь 1635081908 не в отпуске: отпуск с 2025-04-29 по 2025-05-30
2025-04-24 17:29:19,648 - apscheduler.executors.default - INFO - Job "check_absences (trigger: interval[0:01:00], next run at: 2025-04-24 07:30:19 UTC)" executed successfully
2025-04-24 17:29:24,982 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:24 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:24,982 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:24,982 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:24,982 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:24,982 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:24,982 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:24,983 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:24,983 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:24,983 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:24,983 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:24,983 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:24,983 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:24,984 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:24,984 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:35,142 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:35 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:35,143 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:35,143 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:35,143 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:35,143 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:35,143 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:35,143 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:35,143 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:35,143 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:35,144 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:35,144 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:35,144 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:35,144 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:35,144 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:45,295 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:45 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:45,295 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:45,296 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:45,296 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:45,296 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:45,296 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:45,296 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:45,296 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:45,296 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:45,297 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:45,297 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:45,297 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:45,297 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:45,297 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:55,454 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:29:55 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:29:55,454 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:29:55,454 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:29:55,454 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:29:55,454 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:55,454 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:55,454 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:29:55,454 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:29:55,455 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 10, 'offset': 829489559}`
2025-04-24 17:29:55,455 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:29:55,455 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:29:55,455 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:29:55,455 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:29:55,455 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:29:59,882 - telegram.ext.Application - DEBUG - Application received stop signal. Shutting down.
2025-04-24 17:29:59,882 - telegram.ext.Updater - DEBUG - Stopping Updater
2025-04-24 17:29:59,882 - telegram.ext.Updater - DEBUG - Waiting background polling task to finish up.
2025-04-24 17:29:59,882 - telegram.ext - DEBUG - Network Retry Loop (Polling Updates): Cancelled
2025-04-24 17:29:59,883 - httpcore.http11 - DEBUG - receive_response_headers.failed exception=CancelledError()
2025-04-24 17:29:59,883 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:29:59,883 - telegram.ext.Updater - DEBUG - Calling `get_updates` one more time to mark all fetched updates as read.
2025-04-24 17:29:59,883 - telegram.ext.ExtBot - DEBUG - Calling Bot API endpoint `getUpdates` with parameters `{'timeout': 0, 'offset': 829489559}`
2025-04-24 17:29:59,883 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:29:59,884 - httpcore.connection - DEBUG - connect_tcp.started host='api.telegram.org' port=443 local_address=None timeout=5.0 socket_options=None
2025-04-24 17:30:00,040 - httpcore.connection - DEBUG - connect_tcp.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F2E8590>
2025-04-24 17:30:00,040 - httpcore.connection - DEBUG - start_tls.started ssl_context=<ssl.SSLContext object at 0x000001902EED90A0> server_hostname='api.telegram.org' timeout=5.0
2025-04-24 17:30:00,198 - httpcore.connection - DEBUG - start_tls.complete return_value=<httpcore._backends.anyio.AnyIOStream object at 0x000001902F2E83D0>
2025-04-24 17:30:00,199 - httpcore.http11 - DEBUG - send_request_headers.started request=<Request [b'POST']>
2025-04-24 17:30:00,199 - httpcore.http11 - DEBUG - send_request_headers.complete
2025-04-24 17:30:00,199 - httpcore.http11 - DEBUG - send_request_body.started request=<Request [b'POST']>
2025-04-24 17:30:00,199 - httpcore.http11 - DEBUG - send_request_body.complete
2025-04-24 17:30:00,199 - httpcore.http11 - DEBUG - receive_response_headers.started request=<Request [b'POST']>
2025-04-24 17:30:00,357 - httpcore.http11 - DEBUG - receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Server', b'nginx/1.18.0'), (b'Date', b'Thu, 24 Apr 2025 07:30:00 GMT'), (b'Content-Type', b'application/json'), (b'Content-Length', b'23'), (b'Connection', b'keep-alive'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'Access-Control-Allow-Origin', b'*'), (b'Access-Control-Allow-Methods', b'GET, POST, OPTIONS'), (b'Access-Control-Expose-Headers', b'Content-Length,Content-Type,Date,Server,Connection')])
2025-04-24 17:30:00,357 - httpx - INFO - HTTP Request: POST https://api.telegram.org/bot7437055328:AAHgZeBAUu-fLz90H9prMWFg-1mz2z0qzrg/getUpdates "HTTP/1.1 200 OK"
2025-04-24 17:30:00,357 - httpcore.http11 - DEBUG - receive_response_body.started request=<Request [b'POST']>
2025-04-24 17:30:00,357 - httpcore.http11 - DEBUG - receive_response_body.complete
2025-04-24 17:30:00,357 - httpcore.http11 - DEBUG - response_closed.started
2025-04-24 17:30:00,357 - httpcore.http11 - DEBUG - response_closed.complete
2025-04-24 17:30:00,357 - telegram.ext.ExtBot - DEBUG - Call to Bot API endpoint `getUpdates` finished with return value `[]`
2025-04-24 17:30:00,358 - telegram.ext.ExtBot - DEBUG - No new updates found.
2025-04-24 17:30:00,358 - telegram.ext.Updater - DEBUG - Updater.stop() is complete
2025-04-24 17:30:00,358 - telegram.ext.Application - INFO - Application is stopping. This might take a moment.
2025-04-24 17:30:00,358 - telegram.ext.Application - DEBUG - Waiting for update_queue to join
2025-04-24 17:30:00,358 - telegram.ext.Application - DEBUG - Application stopped fetching of updates.
2025-04-24 17:30:00,358 - telegram.ext.Application - DEBUG - Waiting for running jobs to finish
2025-04-24 17:30:00,358 - apscheduler.scheduler - INFO - Scheduler has been shut down
2025-04-24 17:30:00,368 - telegram.ext.Application - DEBUG - JobQueue stopped
2025-04-24 17:30:00,368 - telegram.ext.Application - DEBUG - Waiting for `create_task` calls to be processed
2025-04-24 17:30:00,368 - telegram.ext.Application - INFO - Application.stop() complete
2025-04-24 17:30:00,369 - httpcore.connection - DEBUG - close.started
2025-04-24 17:30:00,369 - httpcore.connection - DEBUG - close.started
2025-04-24 17:30:00,369 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:30:00,369 - httpcore.connection - DEBUG - close.complete
2025-04-24 17:30:00,369 - telegram.ext.ExtBot - DEBUG - This Bot is already shut down. Returning.
2025-04-24 17:30:00,369 - telegram.ext.Updater - DEBUG - Shut down of Updater complete
